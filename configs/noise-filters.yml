# Noise Filter Configuration
# Stock Market Intel + Alerts System
#
# Filters reduce alert noise by excluding low-quality signals.
# These rules help focus on actionable, high-conviction alerts.

version: "1.0"
last_updated: "2026-01-20"

# Ticker-level filters (exclude problematic tickers)
ticker_filters:
  # Minimum criteria for a ticker to generate alerts
    minimum_requirements:
        # Minimum market cap in USD (filters penny stocks)
            min_market_cap: 500000000  # $500M

                    # Minimum average daily volume
                        min_avg_volume: 500000

                                # Minimum share price (avoids sub-penny manipulation)
                                    min_price: 1.00

                                            # Maximum share price (optional, for options traders)
                                                max_price: null  # No limit

                                                        # Require US exchange listing
                                                            us_exchange_only: true

                                                                    # Allowed exchanges
                                                                        allowed_exchanges:
                                                                              - NYSE
                                                                                    - NASDAQ
                                                                                          - AMEX

                                                                                                  # Exclude OTC/Pink Sheets
                                                                                                      exclude_otc: true
                                                                                                      
                                                                                                        # Blocklist: tickers that should never alert
                                                                                                          blocklist:
                                                                                                              # Known problematic tickers (add as needed)
                                                                                                                  tickers: []
                                                                                                                      
                                                                                                                          # Block by pattern (e.g., warrants, units)
                                                                                                                              patterns:
                                                                                                                                    - ".*W$"    # Warrants
                                                                                                                                          - ".*U$"    # Units
                                                                                                                                                - ".*R$"    # Rights
                                                                                                                                                    
                                                                                                                                                        # Block specific sectors
                                                                                                                                                            sectors: []
                                                                                                                                                                
                                                                                                                                                                    # Block specific industries
                                                                                                                                                                        industries: []
                                                                                                                                                                        
                                                                                                                                                                          # Watchlist-only mode: only alert on explicitly watched tickers
                                                                                                                                                                            watchlist_only: true
                                                                                                                                                                            
                                                                                                                                                                            # News quality filters
                                                                                                                                                                            news_filters:
                                                                                                                                                                              # Minimum source credibility score (0-1)
                                                                                                                                                                                min_source_score: 0.5
                                                                                                                                                                                  
                                                                                                                                                                                    # Trusted news sources (higher weight)
                                                                                                                                                                                      trusted_sources:
                                                                                                                                                                                          - "Reuters"
                                                                                                                                                                                              - "Bloomberg"
                                                                                                                                                                                                  - "CNBC"
                                                                                                                                                                                                      - "Wall Street Journal"
                                                                                                                                                                                                          - "Financial Times"
                                                                                                                                                                                                              - "SEC EDGAR"
                                                                                                                                                                                                                  - "PR Newswire"
                                                                                                                                                                                                                      - "Business Wire"
                                                                                                                                                                                                                        
                                                                                                                                                                                                                          # Untrusted sources (filtered out)
                                                                                                                                                                                                                            blocked_sources:
                                                                                                                                                                                                                                - "Motley Fool"  # Often clickbait
                                                                                                                                                                                                                                    - "Seeking Alpha"  # User-generated, variable quality
                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                        # Spam keywords (filter articles containing these)
                                                                                                                                                                                                                                          spam_keywords:
                                                                                                                                                                                                                                              - "sponsored"
                                                                                                                                                                                                                                                  - "advertisement"
                                                                                                                                                                                                                                                      - "partner content"
                                                                                                                                                                                                                                                          - "promoted"
                                                                                                                                                                                                                                                              - "cryptocurrency"
                                                                                                                                                                                                                                                                  - "bitcoin"
                                                                                                                                                                                                                                                                      - "forex"
                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                          # Require minimum article length (filters thin content)
                                                                                                                                                                                                                                                                            min_article_length: 200
                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                # Duplicate detection window (hours)
                                                                                                                                                                                                                                                                                  duplicate_window_hours: 24
                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                      # Sentiment filter: ignore neutral news
                                                                                                                                                                                                                                                                                        ignore_neutral_sentiment: true
                                                                                                                                                                                                                                                                                          neutral_threshold: 0.1  # Sentiment score -0.1 to 0.1 is neutral
                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                          # Volume spike validation
                                                                                                                                                                                                                                                                                          volume_filters:
                                                                                                                                                                                                                                                                                            # Require price movement with volume (filter phantom volume)
                                                                                                                                                                                                                                                                                              require_price_confirmation: true
                                                                                                                                                                                                                                                                                                min_price_change_percent: 0.5
                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                    # Filter pre-market volume spikes (often misleading)
                                                                                                                                                                                                                                                                                                      premarket_volume_multiplier: 2.0  # Require 2x normal threshold
                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                          # Filter end-of-day volume spikes (often index rebalancing)
                                                                                                                                                                                                                                                                                                            eod_filter:
                                                                                                                                                                                                                                                                                                                enabled: true
                                                                                                                                                                                                                                                                                                                    filter_after: "15:45"
                                                                                                                                                                                                                                                                                                                        timezone: "America/New_York"
                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                        # Price movement validation  
                                                                                                                                                                                                                                                                                                                        price_filters:
                                                                                                                                                                                                                                                                                                                          # Filter gap-ups/downs that immediately reverse
                                                                                                                                                                                                                                                                                                                            gap_reversal_filter:
                                                                                                                                                                                                                                                                                                                                enabled: true
                                                                                                                                                                                                                                                                                                                                    reversal_threshold_percent: 50  # 50% reversal = filter
                                                                                                                                                                                                                                                                                                                                        check_after_minutes: 15
                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                            # Filter moves on extremely low volume
                                                                                                                                                                                                                                                                                                                                              low_volume_move_filter:
                                                                                                                                                                                                                                                                                                                                                  enabled: true
                                                                                                                                                                                                                                                                                                                                                      min_volume_for_move: 10000
                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                          # Filter extended hours price moves (less reliable)
                                                                                                                                                                                                                                                                                                                                                            extended_hours_discount:
                                                                                                                                                                                                                                                                                                                                                                enabled: true
                                                                                                                                                                                                                                                                                                                                                                    # Require larger move to alert during extended hours
                                                                                                                                                                                                                                                                                                                                                                        threshold_multiplier: 1.5
                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                        # SEC filing filters
                                                                                                                                                                                                                                                                                                                                                                        sec_filters:
                                                                                                                                                                                                                                                                                                                                                                          # Filter routine/expected filings
                                                                                                                                                                                                                                                                                                                                                                            filter_routine_filings: true
                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                # Routine filing types to deprioritize
                                                                                                                                                                                                                                                                                                                                                                                  routine_forms:
                                                                                                                                                                                                                                                                                                                                                                                      - "10-K"  # Annual (expected)
                                                                                                                                                                                                                                                                                                                                                                                          - "10-Q"  # Quarterly (expected)
                                                                                                                                                                                                                                                                                                                                                                                              - "DEF 14A"  # Proxy (expected)
                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                  # Only alert on unexpected filings for routine forms
                                                                                                                                                                                                                                                                                                                                                                                                    routine_surprise_only: true
                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                    # Analyst filters
                                                                                                                                                                                                                                                                                                                                                                                                    analyst_filters:
                                                                                                                                                                                                                                                                                                                                                                                                      # Minimum analyst rating count for credibility
                                                                                                                                                                                                                                                                                                                                                                                                        min_analyst_coverage: 3
                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                            # Filter reiterations (no change)
                                                                                                                                                                                                                                                                                                                                                                                                              filter_reiterations: true
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                  # Require minimum price target change
                                                                                                                                                                                                                                                                                                                                                                                                                    min_price_target_change_percent: 5.0
                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                    # Risk flag filters
                                                                                                                                                                                                                                                                                                                                                                                                                    risk_filters:
                                                                                                                                                                                                                                                                                                                                                                                                                      # Minimum risk indicators to trigger alert
                                                                                                                                                                                                                                                                                                                                                                                                                        min_risk_flags: 2
                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                            # High-confidence risk indicators (single flag = alert)
                                                                                                                                                                                                                                                                                                                                                                                                                              high_confidence_flags:
                                                                                                                                                                                                                                                                                                                                                                                                                                  - "SEC investigation"
                                                                                                                                                                                                                                                                                                                                                                                                                                      - "auditor resignation"
                                                                                                                                                                                                                                                                                                                                                                                                                                          - "restatement"
                                                                                                                                                                                                                                                                                                                                                                                                                                              - "delisting warning"
                                                                                                                                                                                                                                                                                                                                                                                                                                                  - "fraud"
                                                                                                                                                                                                                                                                                                                                                                                                                                                      - "bankruptcy"
                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                                      # Time-based filters
                                                                                                                                                                                                                                                                                                                                                                                                                                                      time_filters:
                                                                                                                                                                                                                                                                                                                                                                                                                                                        # Filter overnight news (often priced in by open)
                                                                                                                                                                                                                                                                                                                                                                                                                                                          overnight_news:
                                                                                                                                                                                                                                                                                                                                                                                                                                                              filter: true
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  hours_old_threshold: 8
                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        # Filter stale data
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          stale_data:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              max_age_minutes: 30
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              # Deduplication rules
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              deduplication:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                # Group similar alerts within window
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  window_minutes: 10
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      # Fields to compare for similarity
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        similarity_fields:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            - ticker
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                - alert_type
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    - headline_keywords
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        # Similarity threshold (0-1)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          similarity_threshold: 0.8
