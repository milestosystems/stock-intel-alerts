# Cooldown Configuration
# Stock Market Intel + Alerts System
#
# Cooldowns prevent alert fatigue by limiting how often alerts fire.
# After an alert, the same type won't fire again for that ticker until cooldown expires.
# Critical alerts can override cooldowns.

version: "1.0"
last_updated: "2026-01-20"

# Global defaults (can be overridden per alert type or per ticker)
defaults:
  # Default cooldown in minutes
    cooldown_minutes: 60

        # Maximum alerts per ticker per day (0 = unlimited)
          max_alerts_per_day: 10

              # Maximum total alerts per day across all tickers
                max_total_alerts_per_day: 50

                # Per-alert-type cooldowns
                alert_types:
                  price_spike:
                      cooldown_minutes: 30
                          max_per_day: 5
                              # Allow rapid-fire during high volatility
                                  volatility_override: true

                                        price_drop:
                                            cooldown_minutes: 30
                                                max_per_day: 5
                                                    volatility_override: true

                                                          volume_surge:
                                                              cooldown_minutes: 60
                                                                  max_per_day: 3
                                                                      # Volume alerts are noisy, longer cooldown

                                                                            earnings_surprise:
                                                                                cooldown_minutes: 240  # 4 hours
                                                                                    max_per_day: 2
                                                                                        # Earnings are one-time events, long cooldown

                                                                                              sec_filing:
                                                                                                  cooldown_minutes: 120  # 2 hours
                                                                                                      max_per_day: 5
                                                                                                          # Multiple filings can happen same day
                                                                                                              
                                                                                                                insider_trade:
                                                                                                                    cooldown_minutes: 180  # 3 hours
                                                                                                                        max_per_day: 3
                                                                                                                            # Important but shouldn't spam
                                                                                                                                
                                                                                                                                  analyst_change:
                                                                                                                                      cooldown_minutes: 240  # 4 hours
                                                                                                                                          max_per_day: 2
                                                                                                                                              # Analyst actions are infrequent
                                                                                                                                                  
                                                                                                                                                    news_event:
                                                                                                                                                        cooldown_minutes: 45
                                                                                                                                                            max_per_day: 5
                                                                                                                                                                # News can break frequently
                                                                                                                                                                    
                                                                                                                                                                      technical_breakout:
                                                                                                                                                                          cooldown_minutes: 120
                                                                                                                                                                              max_per_day: 2
                                                                                                                                                                                  # Technical signals shouldn't repeat often
                                                                                                                                                                                      
                                                                                                                                                                                        risk_flag:
                                                                                                                                                                                            cooldown_minutes: 60
                                                                                                                                                                                                max_per_day: 5
                                                                                                                                                                                                    # Risk alerts are important, moderate cooldown
                                                                                                                                                                                                    
                                                                                                                                                                                                    # Priority-based cooldown overrides
                                                                                                                                                                                                    # Higher priority tickers get shorter cooldowns
                                                                                                                                                                                                    priority_overrides:
                                                                                                                                                                                                      high:
                                                                                                                                                                                                          cooldown_multiplier: 0.5  # Half the normal cooldown
                                                                                                                                                                                                              max_alerts_multiplier: 2.0  # Double the daily limit
                                                                                                                                                                                                                  
                                                                                                                                                                                                                    medium:
                                                                                                                                                                                                                        cooldown_multiplier: 1.0
                                                                                                                                                                                                                            max_alerts_multiplier: 1.0
                                                                                                                                                                                                                                
                                                                                                                                                                                                                                  low:
                                                                                                                                                                                                                                      cooldown_multiplier: 1.5  # 50% longer cooldown
                                                                                                                                                                                                                                          max_alerts_multiplier: 0.5  # Half the daily limit
                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                muted:
                                                                                                                                                                                                                                                    # Muted tickers don't send alerts
                                                                                                                                                                                                                                                        alerts_enabled: false
                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                        # Severity-based bypass rules
                                                                                                                                                                                                                                                        severity_bypass:
                                                                                                                                                                                                                                                          # Critical alerts can bypass cooldowns
                                                                                                                                                                                                                                                            critical:
                                                                                                                                                                                                                                                                bypass_cooldown: true
                                                                                                                                                                                                                                                                    bypass_daily_limit: true
                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                          # High severity can shorten cooldown
                                                                                                                                                                                                                                                                            high:
                                                                                                                                                                                                                                                                                bypass_cooldown: false
                                                                                                                                                                                                                                                                                    cooldown_reduction_percent: 50
                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                          medium:
                                                                                                                                                                                                                                                                                              bypass_cooldown: false
                                                                                                                                                                                                                                                                                                  cooldown_reduction_percent: 0
                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                        low:
                                                                                                                                                                                                                                                                                                            bypass_cooldown: false
                                                                                                                                                                                                                                                                                                                cooldown_reduction_percent: 0
                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                # Time-based adjustments
                                                                                                                                                                                                                                                                                                                time_windows:
                                                                                                                                                                                                                                                                                                                  # Market hours (more alerts expected)
                                                                                                                                                                                                                                                                                                                    market_hours:
                                                                                                                                                                                                                                                                                                                        start: "09:30"
                                                                                                                                                                                                                                                                                                                            end: "16:00"
                                                                                                                                                                                                                                                                                                                                timezone: "America/New_York"
                                                                                                                                                                                                                                                                                                                                    cooldown_multiplier: 1.0
                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                          # Pre-market (important but less liquid)
                                                                                                                                                                                                                                                                                                                                            pre_market:
                                                                                                                                                                                                                                                                                                                                                start: "04:00"
                                                                                                                                                                                                                                                                                                                                                    end: "09:30"
                                                                                                                                                                                                                                                                                                                                                        timezone: "America/New_York"
                                                                                                                                                                                                                                                                                                                                                            cooldown_multiplier: 1.5
                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                  # After-hours
                                                                                                                                                                                                                                                                                                                                                                    after_hours:
                                                                                                                                                                                                                                                                                                                                                                        start: "16:00"
                                                                                                                                                                                                                                                                                                                                                                            end: "20:00"
                                                                                                                                                                                                                                                                                                                                                                                timezone: "America/New_York"
                                                                                                                                                                                                                                                                                                                                                                                    cooldown_multiplier: 1.5
                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                          # Overnight (minimal alerts)
                                                                                                                                                                                                                                                                                                                                                                                            overnight:
                                                                                                                                                                                                                                                                                                                                                                                                start: "20:00"
                                                                                                                                                                                                                                                                                                                                                                                                    end: "04:00"
                                                                                                                                                                                                                                                                                                                                                                                                        timezone: "America/New_York"
                                                                                                                                                                                                                                                                                                                                                                                                            cooldown_multiplier: 3.0
                                                                                                                                                                                                                                                                                                                                                                                                                # Only critical alerts during overnight
                                                                                                                                                                                                                                                                                                                                                                                                                    min_severity: "high"
                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                    # Cooldown reset rules
                                                                                                                                                                                                                                                                                                                                                                                                                    reset_rules:
                                                                                                                                                                                                                                                                                                                                                                                                                      # Reset daily limits at market open
                                                                                                                                                                                                                                                                                                                                                                                                                        daily_reset_time: "09:30"
                                                                                                                                                                                                                                                                                                                                                                                                                          daily_reset_timezone: "America/New_York"
                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                              # Reset cooldown if price moves significantly in opposite direction
                                                                                                                                                                                                                                                                                                                                                                                                                                price_reversal_reset:
                                                                                                                                                                                                                                                                                                                                                                                                                                    enabled: true
                                                                                                                                                                                                                                                                                                                                                                                                                                        reversal_threshold_percent: 3.0
                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                              # Reset cooldown on major news
                                                                                                                                                                                                                                                                                                                                                                                                                                                news_reset:
                                                                                                                                                                                                                                                                                                                                                                                                                                                    enabled: true
                                                                                                                                                                                                                                                                                                                                                                                                                                                        keywords:
                                                                                                                                                                                                                                                                                                                                                                                                                                                              - "breaking"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    - "urgent"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          - "FDA approval"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                - "bankruptcy"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                # Aggregation rules (combine multiple triggers)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                aggregation:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  # Window to aggregate related alerts
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    aggregation_window_minutes: 5
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        # If multiple alert types fire in window, send single combined alert
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          combine_alerts: true
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              # Escalate severity if multiple alerts aggregate
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                escalate_on_multiple: true
